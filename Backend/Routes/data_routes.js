const express = require('express');
var data_routes=express.Router();
const gameModel=require('../Model/DataModel')


 


data_routes.get("/getdata",async(req,res)=>{
    
 try{
        
  // const gamedata=await gameModel.find();
        
  res.send([
          
   {
              
    "sr_no": 1,
              
    "name": "GTA 5",
              
    "discount_percentage": 15,
              
    "img_link": "https://m.media-amazon.com/images/I/51MFu2e82VL._AC_UF1000,1000_QL80_.jpg",
              
    "description":"Grand Theft Auto V: Premium Edition offers a rich open-world experience, including the full story, Grand Theft Auto Online, and the Criminal Enterprise Starter Pack for an immersive criminal empire-building adventure.",
              
    "Epic":"https://store.epicgames.com/en-US/p/grand-theft-auto-v",
              
    "Steam":"https://store.steampowered.com/app/271590/Grand_Theft_Auto_V/"
          
   },
          
   {
              
    "sr_no": 2,
              
    "name": "SIFU",
              
    "discount_percentage": 20,
              
    "img_link": "https://cdn1.epicgames.com/offer/b7b42e2078524ab386a8b2a9856ef557/EGS_SIFUStandardEdition_Sloclap_S4_1200x1600-32aca69d756abfcc25f8581942a6162b_1200x1600-32aca69d756abfcc25f8581942a6162b",
              
    "description":"Sifu immerses players in gripping Kung Fu battles and cinematic revenge plots. With precise combat mechanics, it delivers a visceral experience, blending action-packed gameplay with a captivating narrative.",
             
    "Epic":"https://store.epicgames.com/en-US/p/sifu",
              
    "Steam":"https://store.steampowered.com/app/2138710/Sifu/"
    
   },
   
   {
   
    "sr_no": 3,
    
    "name": "Sherlock Holmes Chapter One",
    
    "discount_percentage": 10,
    
    "img_link": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTrirSGfVGkp5bDRxCE3p0-5deLGTxfq_KtZQ5ggNhxeg&s",
    
    "description":"Rocket League combines fast-paced soccer gameplay with vehicular chaos. With intuitive controls and physics-based mechanics, dive into thrilling competition. Master aerial maneuvers, teamwork, and strategy for exhilarating matches in this unique sports experience.",
    
    "Epic":"https://store.epicgames.com/en-US/p/sherlock-holmes-chapter-one",
    
    "Steam":"https://store.steampowered.com/app/1137300/Sherlock_Holmes_Chapter_One/"
    
   },
   
   {
   
    "sr_no": 4,
    
    "name": "Assassin's Creed: Mirage",
    
    "discount_percentage": 25,
    
    "img_link": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR7OMzoWvo6OOOdNn_Cu3Zh4VQzZofX2JwIpXShX0Lljg&s",
    
    "description":"Embark on an epic journey with Basim, a street thief in ninth-century Baghdad, as he unravels mysteries and embraces his destiny as a Master Assassin. Explore ancient secrets, face formidable foes, and shape history in this gripping tale of intrigue and vengeance.",
    
    "Epic":"https://store.epicgames.com/en-US/p/assassins-creed-mirage",
    
    "Steam":"https://store.steampowered.com/app/812140/Assassins_Creed_Odyssey/"
    
   },
   
   {
   
    "sr_no": 5,
    
    "name": "HITMAN World of Assassination Deluxe Edition",
    
    "discount_percentage": 30,
    
    "img_link": "https://cdn1.epicgames.com/offer/ed55aa5edc5941de92fd7f64de415793/EGS_HITMAN3TheUndyingPack_IOInteractiveAS_DLC_S2_1200x1600-26151c38eb4ea7b6c6cef39538beaa5c",
    
    "description":"Assume the role of Agent 47 in the ultimate World of Assassination compilation. Explore 20+ iconic locales, tackle numerous challenges, and access all premium DLC in this comprehensive package. Immerse yourself in the art of assassination like never before.",
    
    "Epic":"https://store.epicgames.com/en-US/p/hitman-3--woa-deluxe-edition",
    
    "Steam":"https://store.steampowered.com/bundle/30335/HITMAN_World_of_Assassination_Deluxe_Pack/"
    
   },
   
   {
   
    "sr_no": 6,
    
    "name": "Dead by Daylight - Resident Evil Chapter",
    
    "discount_percentage": 12,
    
    "img_link": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSGNpFvlOpDi2zjLNn87bWHJm12bXwtwYhdb4YABqaKpg&s",
    
    "description":"Dive into the horror of Resident Evil in Dead by Daylight's latest chapter. Encounter the relentless Nemesis as the new killer, join forces with iconic survivors Leon S. Kennedy and Jill Valentine, and explore a chilling new map.",
    
    "Epic":"https://store.epicgames.com/en-US/p/dead-by-daylight--resident-evil-chapter",
    
    "Steam":"https://store.steampowered.com/app/1634040/Dead_by_Daylight__Resident_Evil_Chapter/"
    
   },
   
   {
   
    "sr_no": 7,
    
    "name": "The Expanse - A Telltale Series",
    
    "discount_percentage": 18,
    
    "img_link": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSvN8EuQlj4QrpOJrFixJFmhSYt3ERa5ZS93vBK1Yp8yA&s",
    
    "description":"Step into the vast expanse of The Expanse with Telltale's interactive adventure. Navigate zero-g salvage missions, confront pirates, and shape the narrative with your choices, immersing yourself in this gripping sci-fi universe.",
    
    "Epic":"https://store.epicgames.com/en-US/p/the-expanse-a-telltale-series",
    
    "Steam":"https://store.steampowered.com/app/1708010/The_Expanse_A_Telltale_Series/"
    
   },
   
   {
   
    "sr_no": 8,
    
    "name": "The Settlers®: New Allies",
    
    "discount_percentage": 22,
    
    "img_link": "https://i.pinimg.com/736x/1d/44/af/1d44aff455b14e3af11029d09e82a2ca.jpg",
    
    "description":"Dive into The Settlers®: New Allies, a reimagined strategy game with immersive graphics and dynamic gameplay. Choose factions, engage in story-driven campaigns, or battle online for endless enjoyment with friends.",
    
    "Epic":"https://store.epicgames.com/en-US/p/the-settlers",
    
    "Steam":"https://store.steampowered.com/app/2750080/The_Settlers_New_Allies/"
    
   },
   
   {
   
    "sr_no": 9,
    
    "name": "Tchia",
    
    "discount_percentage": 27,
    
    "img_link": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTApbTmdwQJ7SBZQfkf9P9wi4IG1Dg0cLj9syH1R5RbVw&s",
    
    "description":"Embark on a tropical escapade in an open-world sandbox. Explore lush islands, control various creatures and objects, and strum tunes on a playable ukulele in this physics-driven adventure.",
    
    "Epic":"https://store.epicgames.com/en-US/p/tchia",
    
    "Steam":"https://store.steampowered.com/app/1496590/Tchia/"
    
   },
   
   {
   
    "sr_no": 10,
    
    "name": "Steep",
    
    "discount_percentage": 14,
    
    "img_link": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaFLdrgChMKgIsDM-dHpMYbRVCcw4Cf4rQ-wBLCMZPsw&s",
    
    "description":"Embark on an exhilarating journey through the sprawling Alps, where endless powder awaits and every run is an adventure. Immerse yourself in the thrill of snowboarding across breathtaking landscapes.",
    
    "Epic":"https://store.epicgames.com/en-US/p/steep",
    
    "Steam":"https://store.steampowered.com/app/460920/Steep/"
    
   },
   
   {
   
    "sr_no": 11,
    
    "name": "Red Dead Redemption 2",
    
    "discount_percentage": 17,
    
    "img_link": "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQFLWgCaPyHcENQSTg0M6CLXTI9CY8WTsFQmW2BgILbow&s",
    
    "description":"Red Dead Redemption 2, a recipient of numerous accolades, delivers an epic narrative set in the twilight of the Wild West. Explore its rich story mode and engage in frontier adventures online.",
    
    "Epic":"https://store.epicgames.com/en-US/p/red-dead-redemption-2",
    
    "Steam":"https://store.steampowered.com/app/1174180/Red_Dead_Redemption_2/"
          }
    
  ]);
  
 }catch(err){

  
  
  res.send(err)
  
 }

})




data_routes.post("/postdata", async (req, res) => {

 console.log(req.body);
    
 
 try {
 
  const result=await gameModel.insertMany(req.body)
  
  res.send("Posted the document successfully")
  
 } catch (error) {
 
  res.send(error)
  
 }
    

});



data_routes.put("/updatedata/:id",async (req,res)=>{
    let payload=req.body;
    let id=req.params.id
    try {
      let result=await gameModel.findByIdAndUpdate(id,payload)
      res.json({msg:"Updated the document successfully"})
    } catch (error) {
      console.log(error)
      res.send(error)
    }
    });


   

data_routes.patch("/updatedata/:id",async (req,res)=>{
        let payload=req.body;
        let id=req.params.id
        console.log(id)
        try {
          let result=await gameModel.findByIdAndUpdate(id,payload)
          res.json({msg:"Updated the document successfully"})
        } catch (error) {
          console.log(error)
          res.send(error)
        }
        });

module.exports=data_routes;

